<div class="container py-3">
  <div class="row">
    <form [formGroup]="formGroup" (ngSubmit)="valider()">
      <!-- Ligne 4 -->
      <div class="row g-3 mt-1">
        <div class="col-12 col-md-6">
          <label for="login" class="form-label mb-0">Compte (login)</label>
          <select id="login" class="form-select" formControlName="login" [ngClass]="{'is-invalid': isInvalid('login')}">
            <option value="" disabled>Sélectionnez un compte</option>
            <option *ngFor="let c of comptes" [value]="c.login">{{ c.login }} ({{ c.type }})</option>
          </select>
          <div *ngIf="isInvalid('login')" class="invalid-feedback">
            Veuillez sélectionner un compte
          </div>
        </div>

        <!-- Matricule -->
        <div class="col-12 col-md-6">
          <label for="matricule_collab" class="form-label">Matricule</label>
          <input type="text" id="matricule_collab" class="form-control" formControlName="matricule_collab"
            placeholder="Entrez le matricule" [ngClass]="{'is-invalid': isInvalid('matricule_collab')}" />
          <div *ngIf="isInvalid('matricule_collab')" class="invalid-feedback">
            Veuillez renseigner le matricule
          </div>
        </div>

      </div>

      <!-- Ligne 1 -->
      <div class="row g-3">
        <!-- prenom -->
        <div class="col-12 col-md-6">
          <label for="prenom_collab" class="form-label">Prénom</label>
          <input type="text" id="prenom_collab" class="form-control" formControlName="prenom_collab"
            placeholder="Entrez le prénom" [ngClass]="{'is-invalid': isInvalid('prenom_collab')}" />
          <div *ngIf="isInvalid('prenom_collab')" class="invalid-feedback">
            Veuillez renseigner le prénom
          </div>
        </div>
        <!-- Nom -->
        <div class="col-12 col-md-6">
          <label for="nom_collab" class="form-label">Nom</label>
          <input type="text" id="nom_collab" class="form-control" formControlName="nom_collab"
            placeholder="Entrez le nom" [ngClass]="{'is-invalid': isInvalid('nom_collab')}" />
          <div *ngIf="isInvalid('nom_collab')" class="invalid-feedback">
            Veuillez renseigner le nom
          </div>
        </div>
      </div>

      <!-- Ligne 2 -->
      <div class="row g-3 mt-1">
        <div class="col-12 col-md-6">
          <label for="id_departement" class="form-label mb-0">Département</label>
          <select id="id_departement" class="form-select" formControlName="id_departement"
            [ngClass]="{'is-invalid': isInvalid('id_departement')}">
            <option value="" disabled>Sélectionnez un département</option>
            <option *ngFor="let d of departements" [value]="d.id">{{ d.nom_dep }}</option>
          </select>
          <div *ngIf="isInvalid('id_departement')" class="invalid-feedback">
            Veuillez sélectionner un département
          </div>
        </div>

        <div class="col-12 col-md-6">
          <label for="email_collab" class="form-label">Email</label>
          <input type="email" id="email_collab" class="form-control" formControlName="email_collab"
            placeholder="Entrez l'email" [ngClass]="{'is-invalid': isInvalid('email_collab')}" />
          <div *ngIf="isInvalid('email_collab')" class="invalid-feedback">
            Veuillez renseigner un email valide
          </div>
        </div>
      </div>

      <!-- Ligne 3 -->
      <div class="row g-3 mt-1">
        <div class="col-12 col-md-6">
          <label for="date_embauche_collab" class="form-label">Date d'embauche</label>
          <input type="date" id="date_embauche_collab" class="form-control" formControlName="date_embauche_collab"
            [ngClass]="{'is-invalid': isInvalid('date_embauche_collab')}" />
          <div *ngIf="isInvalid('date_embauche_collab')" class="invalid-feedback">
            Veuillez renseigner la date d’embauche
          </div>
        </div>

        <div class="col-12 col-md-6">
          <label for="id_manager" class="form-label mb-0">Manager</label>
          <select id="id_manager" class="form-select" formControlName="id_manager"
            [ngClass]="{'is-invalid': isInvalid('id_manager')}">
            <option value="" disabled>Sélectionnez un manager</option>
            <option *ngFor="let m of managers" [value]="m.id">{{ m.nom_manager }}</option>
          </select>
          <div *ngIf="isInvalid('id_manager')" class="invalid-feedback">
            Veuillez sélectionner un manager
          </div>
        </div>
      </div>

      <!-- Bouton Enregistrer -->
      <div class="mt-4 text-center">
        <button type="submit" class="btn btn-success px-4">
          <i class="fa fa-check"></i>
          <span class="d-none d-sm-inline ms-1">Enregistrer</span>
        </button>
      </div>

    </form>
  </div>
</div>